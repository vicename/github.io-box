# Android更新说明

在旧的版本中,我们使用了`强制更新`的方式保证用户始终保持最新的应用版本。即，当我们上线新版本后，用户必须到官网下载安装新版本才能继续使用。这种策略目前面临N多非技术的挑战，导致我们很难再从技术层面维护好这个策略：

频繁更新导致的厌烦情绪：当某项功能频繁更新时，用户会被迫频繁地进行升级操作，导致无法安心使用产品。  
手机厂商的限制：手机厂商和Android系统本身在不断地对用户自行安装APP的行为加强限制，甚至会在软件安装页面误导用户安装其应用市场内的其他软件，导致新版本无法安装成功。  
运营商限制：某些地区的运营商会对某些CDN限制访问，导致安装包无法下载或安装包损坏从而无法安装。

一旦由于以上问题用户无法安装，则无法继续使用我们的产品。所以我们决定对Android版应用的升级策略做出修改。新的更新策略随应用的1.1.8版本一起发布，于今天开始提交应用市场，并在周一（8月19日）向用户推送。  

届时用户将会再经历一次强制更新，在之后的版本中，原则上不再使用强制更新策略。



## 此次更新可能会遇到的问题及解决办法

目前旧版本仍在使用中，所以此次的强制更新在所难免。
用户在此次更新过程中可能会遇到一些问题，解决办法如下：

#### 无法唤起浏览器  

这是由于用户未安装浏览器或浏览器为定制版,导致无法被找到。用户可以使用自己惯用的浏览器访问我们官网进行下载

####  应用无法被下载  

这是由于网络不畅或运营商问题导致的。可以切换网络再次尝试

#### 应用无法安装或安装失败  

#####  1 无法安装-浏览器没有安装软件的权限

根据系统提示将权限打开

进入设置->应用管理->应用权限->特殊访问权限(不同手机进入特殊访问权限管理的方式不尽相同)->安装未知应用

在列表中找到自己的浏览器,并将开关设为'允许'

![device-2018-08-16-170712](D:\MC\appStoreGo\device-2018-08-16-170712.png)



1. 安装包损坏:重新下载安装包
2. 与旧版本不兼容:将旧版本卸载后重新安装

#### 安装后无法使用 

可能是由于手机里安装了过于老旧的版本，数据冲突导致的,将应用清除数据即可(进入设置->应用设置->选择梦诚云或中交智造->清除数据).如果没有找到清除数据的办法,可以将应用卸载重装。
![device-2018-08-16-165141](D:\MC\appStoreGo\device-2018-08-16-165141.png)

## 新的更新策略

新的更新策略为提醒+手动更新的方式，在我们发布了新版本之后，用户会收到提示更新的提醒，但不会进行强制更新，用户可以选择更新，也可以选择继续使用。每次提醒的间隔不小于24小时。同时用户可以根据自己的意愿到应用内的`检查更新`页面进行手动更新。  
应用的下载不再跳转到网页，而是在应用内直接下载并跳转到安装页面覆盖安装。  
同时**梦诚云APP**将上线到华为应用市场和vivo应用商店，使用这两款手机的用户（客户中占比最多）可以使用应用市场的更新功能，免去手动安装步骤。由于应用商店是默认在后台下载并更新的，所以这部分用户会在无感知的情况下自动更新到最新版本。  
后续**梦诚云APP**会上线小米应用商店，后台自动更新功能将覆盖更多用户。

以上，感谢阅读。